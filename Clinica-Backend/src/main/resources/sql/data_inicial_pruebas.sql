-- Insertar un médico de prueba si no existe (para asegurar FK)
INSERT INTO datos_personales (id_personal, nombre, apepat, apemat, login, active, created_at)
VALUES (999, 'Medico', 'Prueba', 'General', 'medico_test', true, CURRENT_TIMESTAMP)
ON CONFLICT DO NOTHING;

-- Insertar Pacientes de prueba
INSERT INTO patients (first_name, last_name, dni, email, phone, date_of_birth, gender, address) VALUES
('JUAN', 'PEREZ LOPEZ', '12345678', 'juan.perez@email.com', '999888777', '1980-05-15', 'M', 'Av. Lima 123'),
('MARIA', 'GOMEZ SANCHEZ', '87654321', 'maria.gomez@email.com', '999111222', '1992-08-20', 'F', 'Jr. Cusco 456'),
('CARLOS', 'RODRIGUEZ DIAZ', '11223344', 'carlos.r@email.com', '988777666', '1975-03-10', 'M', 'Av. Arequipa 789'),
('ANA', 'MARTINEZ RUIZ', '44332211', 'ana.m@email.com', '977666555', '1988-11-25', 'F', 'Calle Real 101'),
('LUIS', 'FERNANDEZ TORRES', '55667788', 'luis.f@email.com', '966555444', '1995-02-14', 'M', 'Av. Sol 202'),
('ELENA', 'LOPEZ GARCIA', '99887766', 'elena.l@email.com', '955444333', '1982-07-30', 'F', 'Jr. Luna 303'),
('JORGE', 'GONZALES PEREZ', '22334455', 'jorge.g@email.com', '944333222', '1990-09-12', 'M', 'Av. Mar 404'),
('ROSA', 'QUISPE MAMANI', '66778899', 'rosa.q@email.com', '933222111', '1985-04-05', 'F', 'Calle Rio 505'),
('PEDRO', 'SANTOS VEGA', '33445566', 'pedro.s@email.com', '922111000', '1978-12-01', 'M', 'Av. Norte 606'),
('LUCIA', 'CASTRO FLORES', '77889900', 'lucia.c@email.com', '911000999', '1993-06-20', 'F', 'Jr. Sur 707')
ON CONFLICT (dni) DO NOTHING;

-- Insertar Órdenes de Laboratorio (30 registros variados)
-- Estados: PENDIENTE, EN_PROCESO, VALIDADA, ENTREGADA, CANCELADA, ANULADA
-- Tipos: AMBULATORIO, HOSPITALARIO, EMERGENCIA

INSERT INTO lab_orden (
    numero_orden, fecha_orden, estado, prioridad, 
    tipo_atencion, tipo_muestra, total, diagnostico, 
    patient_id, medico_id, user_id, created_by,
    created_at, updated_at
) VALUES
-- Órdenes de HOY
('ORD-2025-00100', CURRENT_TIMESTAMP, 'PENDIENTE', 'NORMAL', 'AMBULATORIO', 'SANGRE', 50.00, 'Chequeo General', (SELECT id FROM patients WHERE dni='12345678'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00101', CURRENT_TIMESTAMP, 'PENDIENTE', 'URGENTE', 'EMERGENCIA', 'ORINA', 30.00, 'Infección Urinaria', (SELECT id FROM patients WHERE dni='87654321'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00102', CURRENT_TIMESTAMP - INTERVAL '1 hour', 'EN_PROCESO', 'NORMAL', 'AMBULATORIO', 'SANGRE', 80.00, 'Control Diabetes', (SELECT id FROM patients WHERE dni='11223344'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00103', CURRENT_TIMESTAMP - INTERVAL '2 hour', 'VALIDADA', 'EMERGENCIA', 'HOSPITALARIO', 'HECES', 45.00, 'Dolor Abdominal', (SELECT id FROM patients WHERE dni='44332211'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00104', CURRENT_TIMESTAMP - INTERVAL '3 hour', 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 120.00, 'Perfil Lipídico', (SELECT id FROM patients WHERE dni='55667788'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- Órdenes de AYER
('ORD-2025-00095', CURRENT_DATE - 1, 'PENDIENTE', 'NORMAL', 'AMBULATORIO', 'SANGRE', 55.00, 'Chequeo Rutina', (SELECT id FROM patients WHERE dni='99887766'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00096', CURRENT_DATE - 1, 'EN_PROCESO', 'URGENTE', 'EMERGENCIA', 'ORINA', 35.00, 'Fiebre Alta', (SELECT id FROM patients WHERE dni='22334455'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00097', CURRENT_DATE - 1, 'VALIDADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 90.00, 'Anemia', (SELECT id FROM patients WHERE dni='66778899'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00098', CURRENT_DATE - 1, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'HECES', 40.00, 'Parasitosis', (SELECT id FROM patients WHERE dni='33445566'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00099', CURRENT_DATE - 1, 'PENDIENTE', 'URGENTE', 'HOSPITALARIO', 'SANGRE', 150.00, 'Pre-Operatorio', (SELECT id FROM patients WHERE dni='77889900'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- Órdenes de HACE 2 DÍAS
('ORD-2025-00090', CURRENT_DATE - 2, 'PENDIENTE', 'NORMAL', 'AMBULATORIO', 'SANGRE', 60.00, 'Descarte COVID', (SELECT id FROM patients WHERE dni='12345678'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00091', CURRENT_DATE - 2, 'EN_PROCESO', 'NORMAL', 'AMBULATORIO', 'ORINA', 25.00, 'Control Renal', (SELECT id FROM patients WHERE dni='87654321'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00092', CURRENT_DATE - 2, 'VALIDADA', 'URGENTE', 'EMERGENCIA', 'SANGRE', 200.00, 'Intoxicación', (SELECT id FROM patients WHERE dni='11223344'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00093', CURRENT_DATE - 2, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'HECES', 30.00, 'Diarrea Aguda', (SELECT id FROM patients WHERE dni='44332211'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00094', CURRENT_DATE - 2, 'PENDIENTE', 'NORMAL', 'AMBULATORIO', 'SANGRE', 75.00, 'Alergias', (SELECT id FROM patients WHERE dni='55667788'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- Órdenes de SEMANA PASADA
('ORD-2025-00080', CURRENT_DATE - 7, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 100.00, 'Perfil Hepático', (SELECT id FROM patients WHERE dni='99887766'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00081', CURRENT_DATE - 7, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'ORINA', 20.00, 'Sedimento Urinario', (SELECT id FROM patients WHERE dni='22334455'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00082', CURRENT_DATE - 7, 'VALIDADA', 'URGENTE', 'HOSPITALARIO', 'SANGRE', 300.00, 'Marcadores Tumorales', (SELECT id FROM patients WHERE dni='66778899'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00083', CURRENT_DATE - 7, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'HECES', 35.00, 'Thevenon', (SELECT id FROM patients WHERE dni='33445566'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00084', CURRENT_DATE - 7, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 110.00, 'Perfil Tiroideo', (SELECT id FROM patients WHERE dni='77889900'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- Órdenes de MES PASADO
('ORD-2025-00050', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 50.00, 'Grupo Sanguíneo', (SELECT id FROM patients WHERE dni='12345678'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00051', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 60.00, 'Hemograma', (SELECT id FROM patients WHERE dni='87654321'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00052', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 70.00, 'Glucosa', (SELECT id FROM patients WHERE dni='11223344'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00053', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 80.00, 'Urea', (SELECT id FROM patients WHERE dni='44332211'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00054', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 90.00, 'Creatinina', (SELECT id FROM patients WHERE dni='55667788'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00055', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 100.00, 'Colesterol', (SELECT id FROM patients WHERE dni='99887766'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00056', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 110.00, 'Triglicéridos', (SELECT id FROM patients WHERE dni='22334455'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00057', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 120.00, 'HDL', (SELECT id FROM patients WHERE dni='66778899'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00058', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 130.00, 'LDL', (SELECT id FROM patients WHERE dni='33445566'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('ORD-2025-00059', CURRENT_DATE - 30, 'ENTREGADA', 'NORMAL', 'AMBULATORIO', 'SANGRE', 140.00, 'VLDL', (SELECT id FROM patients WHERE dni='77889900'), 1, 1, 1, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
