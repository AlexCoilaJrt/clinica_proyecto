<aside class="w-[227px] bg-[#27348A] text-white flex flex-col h-screen sticky top-0">
    <!-- Menú de navegación -->
    <div class="flex items-center gap-4 p-4 bg-[#111B5F] text-white welcome-card">
        <div class="flex-shrink-0 profile-picture">
            <img [src]="getProfileImage()" alt="Foto de Perfil"
                class="w-[60px] h-[60px] rounded-full border-2 border-gray-300 object-cover">
        </div>

        <div class="flex flex-col welcome-info">
            <span class="text-sm font-light welcome-text">{{bien}}</span>
            <span class="text-xl font-bold leading-tight user-name">{{ usuarioActual }}</span>

            <div class="flex gap-4 mt-2 action-icons">
                <a href="#" class="hover:text-blue-300 transition-colors action-icon" title="Inicio">
                    <i class="fas fa-home"></i>
                </a>
                <a href="#" class="hover:text-blue-300 transition-colors action-icon" title="Perfil">
                    <i class="fas fa-user"></i>
                </a>
                <a href="#" class="hover:text-blue-300 transition-colors action-icon" title="Salir">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </div>
    </div>
    <nav class="flex-1 space-y-1 overflow-y-auto">

        <!-- Configuraciones (expandible) -->
        <div>
            <button (click)="toggleConfiguraciones()" [class.bg-[#27348A]]="configuracionesExpandido"
                class="w-full flex items-center justify-between px-4 py-3 hover:bg-[#111B5F] transition duration-200">
                <div class="flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span class="font-medium">Configuraciones</span>
                </div>
                <svg class="w-5 h-5 transition-transform duration-200" [class.rotate-90]="configuracionesExpandido"
                    fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Submenú de Configuraciones -->
            <div *ngIf="configuracionesExpandido" class=" space-y-0 bg-[#111B5F]" @slideDown>

                <button (click)="navegarA('/configuraciones/cambio-clave')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-1/2 w-0.5 h-1/2" [ngClass]="{
                        'bg-[#6AC90F]': rutaActual === '/configuraciones/cambio-clave',
                        'bg-[#414FA8]': rutaActual !== '/configuraciones/cambio-clave'
                    }">
                    </div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/cambio-clave',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/cambio-clave'
        }">

                        <svg *ngIf="rutaActual === '/configuraciones/cambio-clave'" class="w-3 h-3 text-white"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Cambio de clave</span>
                </button>

                <button (click)="navegarA('/configuraciones/usuarios')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
                            'bg-[#6AC90F]': rutaActual === '/configuraciones/usuarios',
                            'bg-[#414FA8]': rutaActual !== '/configuraciones/usuarios'
                        }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
                            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/usuarios',
                            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/usuarios'
                        }">
                        <svg *ngIf="rutaActual === '/configuraciones/usuarios'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Usuarios</span>
                </button>

                <button (click)="navegarA('/configuraciones/areas')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
                    'bg-[#6AC90F]': rutaActual === '/configuraciones/areas',
                    'bg-[#414FA8]': rutaActual !== '/configuraciones/areas'
                }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
                            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/areas',
                            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/areas'
                        }">
                        <svg *ngIf="rutaActual === '/configuraciones/areas'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Áreas</span>
                </button>

                <button (click)="navegarA('/configuraciones/examenes')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
                        'bg-[#6AC90F]': rutaActual === '/configuraciones/examenes',
                        'bg-[#414FA8]': rutaActual !== '/configuraciones/examenes'
                    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
                            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/examenes',
                            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/examenes'
                        }">
                        <svg *ngIf="rutaActual === '/configuraciones/examenes'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Exámenes</span>
                </button>

                <button (click)="navegarA('/configuraciones/plantilla-resultados')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
                        'bg-[#6AC90F]': rutaActual === '/configuraciones/plantilla-resultados',
                        'bg-[#414FA8]': rutaActual !== '/configuraciones/plantilla-resultados'
                    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
                            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/plantilla-resultados',
                            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/plantilla-resultados'
                        }">
                        <svg *ngIf="rutaActual === '/configuraciones/plantilla-resultados'" class="w-3 h-3 text-white"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Plantilla de resultados</span>
                </button>

                <button (click)="navegarA('/configuraciones/equipos')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">
                    <div class="absolute left-[21px] top-0 w-0.5 h-1/2" [ngClass]="{
                        'bg-[#6AC90F]': rutaActual === '/configuraciones/equipos',
                        'bg-[#414FA8]': rutaActual !== '/configuraciones/equipos'
                    }"></div>
                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
                            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/configuraciones/equipos',
                            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/configuraciones/equipos'
                        }">
                        <svg *ngIf="rutaActual === '/configuraciones/equipos'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Equipos</span>
                </button>

            </div>
        </div>

        <!-- Procesos (expandible) -->
        <div>
            <button (click)="toggleProcesos()" [class.bg-[#27348A]]="procesosExpandido"
                class="w-full flex items-center justify-between px-4 py-3 hover:bg-[#111B5F] transition duration-200">
                <div class="flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="font-medium">Procesos</span>
                </div>
                <svg class="w-5 h-5 transition-transform duration-200" [class.rotate-90]="procesosExpandido" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Submenú de Procesos -->
            <div *ngIf="procesosExpandido" class=" space-y-0 bg-[#111B5F]" @slideDown>

                <button (click)="navegarA('/procesos/crear-orden')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-1/2 w-0.5 h-1/2" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/procesos/crear-orden',
        'bg-[#414FA8]': rutaActual !== '/procesos/crear-orden'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/procesos/crear-orden',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/procesos/crear-orden'
        }">
                        <svg *ngIf="rutaActual === '/procesos/crear-orden'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Crear orden</span>
                </button>

                <button (click)="navegarA('/procesos/atenciones')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/procesos/atenciones',
        'bg-[#414FA8]': rutaActual !== '/procesos/atenciones'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/procesos/atenciones',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/procesos/atenciones'
        }">
                        <svg *ngIf="rutaActual === '/procesos/atenciones'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Atenciones</span>
                </button>

                <button (click)="navegarA('/procesos/ingreso-resultados')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/procesos/ingreso-resultados',
        'bg-[#414FA8]': rutaActual !== '/procesos/ingreso-resultados'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/procesos/ingreso-resultados',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/procesos/ingreso-resultados'
        }">
                        <svg *ngIf="rutaActual === '/procesos/ingreso-resultados'" class="w-3 h-3 text-white"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Ingreso de resultados</span>
                </button>

                <button (click)="navegarA('/procesos/libro-atenciones')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">
                    <div class="absolute left-[21px] top-0 w-0.5 h-1/2" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/procesos/libro-atenciones',
        'bg-[#414FA8]': rutaActual !== '/procesos/libro-atenciones'
    }"></div>
                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/procesos/libro-atenciones',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/procesos/libro-atenciones'
        }">
                        <svg *ngIf="rutaActual === '/procesos/libro-atenciones'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Libro de atenciones</span>
                </button>

            </div>
        </div>

        <!-- Reportes (expandible) -->
        <div>
            <button (click)="toggleReportes()" [class.bg-[#27348A]]="reportesExpandido"
                class="w-full flex items-center justify-between px-4 py-3 hover:bg-[#111B5F] transition duration-200">
                <div class="flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="font-medium">Reportes</span>
                </div>
                <svg class="w-5 h-5 transition-transform duration-200" [class.rotate-90]="reportesExpandido" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Submenú de Reportes -->
            <div *ngIf="reportesExpandido" class="bg-[#111B5F] space-y-0" @slideDown>

                <button (click)="navegarA('/reportes/estadisticas')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-1/2 w-0.5 h-1/2" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/reportes/estadisticas',
        'bg-[#414FA8]': rutaActual !== '/reportes/estadisticas'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/reportes/estadisticas',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/reportes/estadisticas'
        }">
                        <svg *ngIf="rutaActual === '/reportes/estadisticas'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Estadísticas</span>
                </button>

                <button (click)="navegarA('/reportes/atenciones')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/reportes/atenciones',
        'bg-[#414FA8]': rutaActual !== '/reportes/atenciones'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/reportes/atenciones',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/reportes/atenciones'
        }">
                        <svg *ngIf="rutaActual === '/reportes/atenciones'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Rep. atenciones</span>
                </button>

                <button (click)="navegarA('/reportes/resultados-tiempo')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">

                    <div class="absolute left-[21px] top-0 w-0.5 h-full" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/reportes/resultados-tiempo',
        'bg-[#414FA8]': rutaActual !== '/reportes/resultados-tiempo'
    }"></div>

                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/reportes/resultados-tiempo',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/reportes/resultados-tiempo'
        }">
                        <svg *ngIf="rutaActual === '/reportes/resultados-tiempo'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Result. x tiempo atenc.</span>
                </button>

                <button (click)="navegarA('/auditoria/bitacora')"
                    class="w-full flex items-center space-x-3 px-3 py-2.5 hover:bg-[#1e2875] transition text-left group relative">
                    <div class="absolute left-[21px] top-0 w-0.5 h-1/2" [ngClass]="{
        'bg-[#6AC90F]': rutaActual === '/auditoria/bitacora',
        'bg-[#414FA8]': rutaActual !== '/auditoria/bitacora'
    }"></div>
                    <div class="relative z-10 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200"
                        [ngClass]="{
            'bg-[#6AC90F] border-[#6AC90F]': rutaActual === '/auditoria/bitacora',
            'bg-[#111B5F] border-[#414FA8]': rutaActual !== '/auditoria/bitacora'
        }">
                        <svg *ngIf="rutaActual === '/auditoria/bitacora'" class="w-3 h-3 text-white" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>

                    <span class="text-sm">Bitácora</span>
                </button>

            </div>
        </div>

    </nav>
</aside>